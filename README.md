# Сервис онлайн бронирования
## 1. Тема и целевая аудитория
### Основные функции:

- Поиск жилья для путешествий
- Поиск достопримечательностей и экскурсий
- Создание объявлений
- Бронирование жилья по объявлению

### Целевая аудитория:

140 млн. активных пользователей в месяц по всему миру:

- Северная Америка 10.7%
- Азия 4.8%
- Австралия 2.2%
- Южная Америка 4.8%
- Европа 50.7%

Остальные 26.8% распределены по миру.


## 2. Расчет нагрузки:

### Продуктовые метрики:

Будем считать средний размер хранилища пользователя, учитывая только пользователей, размещающих объявления.

Примем, что один зарегистрированный пользователь в среднем размещает 1 объявление. В среднем объявление содержит в себе 35 изображений, размер одного изображения 0.5 МБ. Размер остальных данных объявления пренебрежимо мал по сравнению с размером изображений => 
Размер хранилища одного пользователя в среднем = 17.5 МБ.


| Метрика                              | Значение |
|--------------------------------------|----------|
| Месячная аудитория                   | 140 млн  |
| Дневная аудитория                    | 10 млн   |
| Средний размер хранилища пользователя | 17.5 МБ  |
| Размещенных объявлений               | 30 млн   |

#### Среднее значение действий пользователя в день:

| Действие                      | Среднее количество в день на пользователя |
|-------------------------------|-------------------------------------------|
| Поиск по параметрам           | 3                                         |
| Получение объявления          | 10                                        |
| Загрузка/изменение объявления | 0.1                                       |
| Регистрация/Авторизация       | 0.5                                       |
| Бронирование                  | 0.2                                       |

### Технические метрики:

#### Объем хранилища:

Средний размер хранилища на объявление - 17.5 МБ, количество объявлений - 30 млн. => Размер хранилища

```30 млн. * 17.5 МБ = 525 ТБ``` 

#### RPS

Пусть пиковый RPS и трафик в два раза больше средних своих значений

Тогда RPS на каждые действия

| Действие                      | Средний RPS | Пиковый RPS | 
|-------------------------------|-------------|-------------|
| Поиск по параметрам           | 347         | 694         |
| Получение объявления          | 1157        | 2314        |
| Загрузка/изменение объявления | 11          | 22          |
| Регистрация/Авторизация       | 55          | 110         |
| Бронирование                  | 22          | 44          |

#### Трафик:

Средний размер страницы со списком объявлений - 6 МБ.
Средний размер страницы объявления - 18 МБ.

| Действие                      | Среднее потребление трафика | Пиковое потребление трафика | 
|-------------------------------|-----------------------------|-----------------------------|
| Поиск по параметрам           | 2 Гбит/c                    | 4 Гбит/с                    |
| Получение объявления          | 20 Гбит/c                   | 40 Гбит/c                   |
| Загрузка/изменение объявления | 90 Мбит/c                   | 180 Мбит/c                  |

## Источники

- https://www.tipranks.com/stocks/bkng/website-traffic
- https://www.stratosjets.com/blog/online-travel-statistics/
- https://www.businessofapps.com/data/booking-statistics/
- https://habr.com/ru/articles/323094/